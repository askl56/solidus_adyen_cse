<div id="adyen-encrypted-form">
  <fieldset>
    <legend>Card Details</legend>

    <div class="field">
      <label for="adyen-encrypted-form-holder-name">Card Holder Name</label>
      <input id="adyen-encrypted-form-holder-name"
             placeholder="John Doe"
             size="20"
             type="text"
             autocomplete="off"
             data-encrypted-name="holderName" />
    </div>

    <div class="field">
      <label for="adyen-encrypted-form-number">Card Number</label>
      <input id="adyen-encrypted-form-number"
             placeholder="5555444433331111"
             size="20"
             type="text"
             autocomplete="off"
             data-encrypted-name="number" />
    </div>

    <div class="field">
      <label for="adyen-encrypted-form-cvc">CVC</label>
      <input id="adyen-encrypted-form-cvc"
             placeholder="737"
             size="4"
             autocomplete="off"
             data-encrypted-name="cvc"
             type="text" />
    </div>

    <div class="field">
      <label for="adyen-encrypted-form-expiry-month">Expiration Month (MM)</label>

      <input id="adyen-encrypted-form-expiry-month"
             size="2"
             autocomplete="off"
             data-encrypted-name="expiryMonth"
             type="text"
             placeholder="06" /> /

      <label for="adyen-encrypted-form-expiry-year">Expiration Year (YYYY)</label>
      <input id="adyen-encrypted-form-expiry-year"
             size="4"
             autocomplete="off"
             type="text"
             placeholder="2016"
             data-encrypted-name="expiryYear" />
    </div>
    <div class="field">
      <input type="hidden" id="adyen-encrypted-form-expiry-generationtime" value="generate-this-
server-side" data-encrypted-name="generationtime" />
    </div>
  </fieldset>
</div>

<%= javascript_include_tag "adyen.encrypt.min.js" %>

<script>
  var form = document.getElementById('checkout_form_payment'),
      key = "<%= payment_method.options[:public_key] %>",
      options = {};

    adyen.encrypt.createEncryptedForm(form, key, options);
</script>
